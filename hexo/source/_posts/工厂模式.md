title: 工厂模式
date: 2016-02-14 09:55:06
tags: 设计模式
---

### 概念

- 使用工厂方法代替`new`操作
- 工厂模式包括`工厂方法模式`和`抽象工厂模式`
- `抽象工厂模式`是`工厂方法模式`的扩展

### 意图

- 定义一个接口老创建对象，但是让子类来决定哪些类需要被实例化
- 工厂发放把实例化的工作推迟到子类中去实现

### 使用场景

- 有一组类似的对象需要创建
- 在编码时不能预见需要创建哪种类的实例(超市里买苹果，不知道买蛇果，阿克苏还是冰糖心)
- 系统需要考虑扩展性

### 常见应用

- jdbc
执行sql的java api，可以为多种数据库提供统一访问

- spring Bean Factory
Bean Factory 是spring中IoC的基本容器，是一个产生bean给客户端的工厂

### 对比

![工厂模式工厂模式](http://7xilc8.com1.z0.glb.clouddn.com/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F.png)
![抽象工厂模式](http://7xilc8.com1.z0.glb.clouddn.com/%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F.png)


- 工厂模式是一种极段的抽象工厂模式，而抽象工厂模式是工厂模式的推广
- 工厂模式用来创建一个产品的等级结构，而抽象工厂模式用来创建多个产品的等级结构
- 工厂模式只有一个抽象产品类，而抽象工厂模式有多个抽象产品类



