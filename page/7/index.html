<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Du Yao&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="java j2EE spring Mybatis struts2 springMVC">
<meta property="og:type" content="website">
<meta property="og:title" content="Du Yao's blog">
<meta property="og:url" content="http://duyao.github.io/page/7/index.html">
<meta property="og:site_name" content="Du Yao's blog">
<meta property="og:description" content="java j2EE spring Mybatis struts2 springMVC">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Du Yao's blog">
<meta name="twitter:description" content="java j2EE spring Mybatis struts2 springMVC">
  
    <link rel="alternative" href="/atom.xml" title="Du Yao&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="null" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Du Yao</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Make progress step by step</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/categories/note">学习笔记</a></li>
				        
							<li><a href="/categories/algorithm">算法学习</a></li>
				        
							<li><a href="/about">关于我</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/duyao" title="github">github</a>
					        
								<a class="mail" target="_blank" href="/duyao_dy@163.com" title="mail">mail</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Mybatis/" style="font-size: 13.75px;">Mybatis</a> <a href="/tags/algorithm/" style="font-size: 18.75px;">algorithm</a> <a href="/tags/database/" style="font-size: 10px;">database</a> <a href="/tags/git/" style="font-size: 12.5px;">git</a> <a href="/tags/hibernate/" style="font-size: 10px;">hibernate</a> <a href="/tags/jQuery/" style="font-size: 15px;">jQuery</a> <a href="/tags/java/" style="font-size: 16.25px;">java</a> <a href="/tags/jsp/" style="font-size: 10px;">jsp</a> <a href="/tags/leetcode/" style="font-size: 17.5px;">leetcode</a> <a href="/tags/maven/" style="font-size: 10px;">maven</a> <a href="/tags/niuke/" style="font-size: 20px;">niuke</a> <a href="/tags/project/" style="font-size: 11.25px;">project</a> <a href="/tags/spring/" style="font-size: 15px;">spring</a> <a href="/tags/springMVC/" style="font-size: 10px;">springMVC</a> <a href="/tags/words/" style="font-size: 10px;">words</a> <a href="/tags/快捷键/" style="font-size: 10px;">快捷键</a> <a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a>
					</div>
				</section>
				
				
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Du Yao</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="null" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Du Yao</h1>
			</hgroup>
			
			<p class="header-subtitle">Make progress step by step</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/categories/note">学习笔记</a></li>
		        
					<li><a href="/categories/algorithm">算法学习</a></li>
		        
					<li><a href="/about">关于我</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/duyao" title="github">github</a>
			        
						<a class="mail" target="_blank" href="/duyao_dy@163.com" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-13.5" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/29/13.5/" class="article-date">
  	<time datetime="2015-11-29T00:14:45.000Z" itemprop="datePublished">2015-11-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/29/13.5/">13.5</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="设计可以变更的缓存结构"><a href="#设计可以变更的缓存结构" class="headerlink" title="设计可以变更的缓存结构"></a>设计可以变更的缓存结构</h1><p>设计一种缓存结构，该结构在构造时确定大小，假设大小为 K</p>
<ul>
<li><p>功能：</p>
<ul>
<li>set(key,value)：将记录(key,value)插入该结构。</li>
<li>get(key)：返回key对应的value值。</li>
</ul>
</li>
<li><p>要求:</p>
<ul>
<li>set和get方法的时间复杂度为O(1)。</li>
<li>某个key的set或get操作一旦发生，认为这个 key 的记录成了最经常使用的。 </li>
<li>当缓存的大小超过K时，移除最不经常使用的记录，即set或get最久远的。</li>
</ul>
</li>
<li><p>举例<br>假设缓存结构的实例是cache，大小为3，并依次发生如下行为:<br>1，cache.set(“A”,1)。最经常使用的记录为(“A”,1)。<br>2，cache.set(“B”,2)。最经常使用的记录为(“B”,2)，(“A”,1)变为最不经常的。<br>3，cache.set(“C”,3)。最经常使用的记录为(“C”,2)，(“A”,1)还是最不经常的。<br>4，cache.get(“A”)。最经常使用的记录为(“A”,1)，(“B”,2)变为最不经常的。<br>5，cache.set(“D”,4)。大小超过了 3，所以移除此时最不经常使用的记录(“B”,2)，加入记录(“D”,4)，并且为最经常使用的记录，然后(“C”,2)变为最不经常使用的记录。</p>
</li>
</ul>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p>LRU是最近最少使用页面置换算法(Least Recently Used),也就是首先淘汰最长时间未被使用的页面!<br>LFU是最近最不常用页面置换算法(Least Frequently Used),也就是淘汰一定时期内被访问次数最少的页!<br>比如,第二种方法的时期T为10分钟,如果每分钟进行一次调页,主存块为3,若所需页面走向为2 1 2 1 2 3 4<br>注意,当调页面4时会发生缺页中断</p>
<ul>
<li>按LRU算法,应换页面1(1页面最久未被使用) </li>
<li>按LFU算法应换页面3(十分钟内,页面3只使用了一次)</li>
</ul>
<p>区别</p>
<ul>
<li>LRU关键是看页面最后一次被使用到发生调度的时间长短</li>
<li>LFU关键是看一定时间段内页面被使用的频率</li>
</ul>
<p>本题是LRU，使用hashMap和双端队列完成</p>
<ul>
<li><p>双端队列的功能</p>
<ul>
<li>队列头旧尾新，加入新节点从尾部加入</li>
<li>把其中任何一个节点移动到尾部，且不影响其他的联系</li>
<li>可以扔掉第一个，即最旧的，第二个就成为头结点</li>
</ul>
</li>
<li><p>hashMap是完成node与key的相互映射，加速查找</p>
</li>
</ul>
<p>cache的实现</p>
<ul>
<li><p>set方法<br>当有节点进来，进行添加或者修改，然后看窗口值是否达到门限，<br>如果没有就添加，冰放入队头，如果达到，就删除队头，放入新节点<br>最后把该节点移动到队尾</p>
</li>
<li><p>get方法<br>从map中得到节点，放入队尾</p>
</li>
</ul>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/niuke/">niuke</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/algorithm/">algorithm</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/11/29/13.5/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-13.4" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/29/13.4/" class="article-date">
  	<time datetime="2015-11-29T00:04:29.000Z" itemprop="datePublished">2015-11-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/29/13.4/">13.4</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      

      <!-- Table of Contents -->
        
        <h1 id="一种怪异的节点删除方式"><a href="#一种怪异的节点删除方式" class="headerlink" title="一种怪异的节点删除方式"></a>一种怪异的节点删除方式</h1><p>链表节点值类型为int型，给定一个链表中的节点node，但不给定整个链表的头节点，如何在链表中删除node？请实现这个函数,并分析这么会出现哪些问题。要求时间复杂度为O(1)。</p>
<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>将后一个结点的值付给前面的节点，然后将后面的节点删除</p>
<p>出现三个问题</p>
<ul>
<li>如果给出的是最后一个结点，无法删除</li>
<li>有的结点无拷贝函数</li>
<li>结点具有依赖性，无法拷贝依赖性</li>
</ul>


      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/niuke/">niuke</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/algorithm/">algorithm</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-12.4" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/28/12.4/" class="article-date">
  	<time datetime="2015-11-28T13:42:06.000Z" itemprop="datePublished">2015-11-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/28/12.4/">12.4</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="一种消息接收并打印的结构设计"><a href="#一种消息接收并打印的结构设计" class="headerlink" title="一种消息接收并打印的结构设计"></a>一种消息接收并打印的结构设计</h1><p>消息流吐出 2,一种结构接收而不打印 2,因为 1 还没出现。<br>消息流吐出 1,一种结构接收 1,并且打印:1,2。<br>消息流吐出 4,一种结构接收而不打印 4,因为 3 还没出现。<br>消息流吐出 5,一种结构接收而不打印 5,因为 3 还没出现。<br>消息流吐出 7,一种结构接收而不打印 7,因为 3 还没出现。<br>消息流吐出 3,一种结构接收 3,并且打印:3,4,5。<br>消息流吐出 9,一种结构接收而不打印 9,因为 6 还没出现。<br>消息流吐出 8,一种结构接收而不打印 8,因为 6 还没出现。<br>消息流吐出 6,一种结构接收 6,并且打印:6,7,8,9。<br>已知一个消息流会不断地吐出整数1~N，但不一定按照顺序吐出。如果上次打印的数为i，那么当i+1出现时,请打印i+1及其之后接收过的并且连续的所有数,直到1~N全部接收并打印完，请设计这种接收并打印的结构。</p>
<p>应用udp和滑动窗口</p>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p>把每一个吐出的消息都看成单独的一个集合，每当进入新的集合n时候就进行合并。<br>与上面n-1合并，与下面的n+1合并<br>合并的过程就是查找是否有该值，因此使用hashMap分别存放<strong>未打印的</strong>可能成为<strong>头和尾的结点</strong><br>然后根据即将打印的值，判断本次是否可以打印<br>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/niuke/">niuke</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/algorithm/">algorithm</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/11/28/12.4/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-13.2" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/28/13.2/" class="article-date">
  	<time datetime="2015-11-28T06:33:44.000Z" itemprop="datePublished">2015-11-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/28/13.2/">13.2</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="最大值减去最小值小于或等于num的子数组数量"><a href="#最大值减去最小值小于或等于num的子数组数量" class="headerlink" title="最大值减去最小值小于或等于num的子数组数量"></a>最大值减去最小值小于或等于num的子数组数量</h1><p>给定数组arr和整数num，返回有多少个子数组满足如下情况:<br>max(arr[i..j]) - min(arr[i..j]) &lt;= num<br>max(arr[i..j])表示子数组arr[i..j]中的最大值，min(arr[i..j])表示子数组arr[i..j]中的最小值。如果数组长度为 N，请实现时间复杂度为 O(N)的解法。</p>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p>有两个规律</p>
<ul>
<li><p>如果max(arr[i..j]) - min(arr[i..j]) &lt;= num，那么ij往里缩，仍然满足要求<br>因为范围缩小后，最大值只能比当前最大值小，而最小值只能比当前大，那么差值会变小，故仍满组要求</p>
</li>
<li><p>如果max(arr[i..j]) - min(arr[i..j]) &gt; num，不满足要求，那么ij往外扩大，仍不满足要求<br>因为范围扩大，最大值可能比当前还大，最小值可能比当前值还小，那么差值会变大，仍不满足要求</p>
</li>
</ul>
<p>利用双端队列，利用<a href="http://duyao.github.io/2015/11/28/13.1/" title="利用双端队列">双端队列</a>动态记录子数组的大小值</p>
<p>qmax和qmin是双端队列，记录大小值的序号，且满足数组的顺序是有序的<br>由于过程中ij一直只增不减，且到末尾就停止，相当于2n次遍历，<br>而更新qmax和qmin时，所有的数字都是进出各一次队列，相当2n次遍历<br>故一共4n次遍历，时间复杂度是o(n)<br>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/niuke/">niuke</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/algorithm/">algorithm</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/11/28/13.2/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-13.1" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/28/13.1/" class="article-date">
  	<time datetime="2015-11-28T05:05:09.000Z" itemprop="datePublished">2015-11-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/28/13.1/">13.1</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="生成窗口最大值数组"><a href="#生成窗口最大值数组" class="headerlink" title="生成窗口最大值数组"></a>生成窗口最大值数组</h1><p>有一个整型数组arr和一个大小为w的窗口从数组的最左边滑到最右边，窗口每次向右边滑一个位置。<br>例如，数组为[4,3,5,4,3,3,6,7]，窗口大小为3时：</p>
<p>[4 3 5] 4 3 3 6 7 窗口中最大值为5<br>4 [3 5 4] 3 3 6 7 窗口中最大值为5<br>4 3 [5 4 3] 3 6 7 窗口中最大值为5<br>4 3 5 [4 3 3] 6 7 窗口中最大值为4<br>4 3 5 4 [3 3 6] 7 窗口中最大值为6<br>4 3 5 4 3 [3 6 7] 窗口中最大值为7</p>
<p>如果数组长度为n，窗口大小为w，则一共产生n-w+1个窗口的最大值。<br>请实现一个函数，给定一个数组arr，窗口大小w。<br>返回一个长度为n-w+1的数组res,res[i]表示每一种窗口状态下的最大值。<br>以本题为例，结果应该返回[5,5,5,4,6,7]。</p>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p>普通解法就是对于每个大小为w窗口都遍历，找到最大值，一共遍历n-w+1次，时间复杂度为O(w*n)<br>O(n)解法就是利用双端队列<br>双端队列中存放的是数组中的下标，表示的当前窗口中从大到小的最大值的下标<br>只需要遍历一次数组，对个数组中的每个值，如果比队列中末尾值小就放入队列，<br>否则就把队列中的最后一个值pop，直到可以放入为止。<br>然后更新结果res，队列中的第一个值是当前的最大值，但是要注意是否在窗口范围内，<br>如果不在，就pop，选择在窗口范围内的最大值<br>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/niuke/">niuke</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/algorithm/">algorithm</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/11/28/13.1/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-12.3" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/27/12.3/" class="article-date">
  	<time datetime="2015-11-27T13:32:59.000Z" itemprop="datePublished">2015-11-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/27/12.3/">12.3</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="设计-RandomPool结构"><a href="#设计-RandomPool结构" class="headerlink" title="设计 RandomPool结构"></a>设计 RandomPool结构</h1><p>设计一种结构,在该结构中有如下三个功能:</p>
<ul>
<li>insert(key):将某个key加入到该结构,做到不重复加入。 </li>
<li>delete(key):将原本在结构中的某个key移除。</li>
<li>getRandom():等概率随机返回结构中的任何一个key。<br>要求：Insert、delete 和 getRandom 方法的时间复杂度都是 O(1)。</li>
</ul>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p>getRandom()要随机就要知道这个结构中的元素个数，且保证都存在<br>而删除会导致某个元素消失，这样的话元素不连续，getRandom()会出错<br>因此本题的考点是删除但是使得元素连续<br>解决方案是删除时将该删除元素与最后一个元素换位置，删除最后一个元素，这个就会连续<br>而用O(1)找到元素的方法是hashMap</p>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/niuke/">niuke</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/algorithm/">algorithm</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/11/27/12.3/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-12.2" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/27/12.2/" class="article-date">
  	<time datetime="2015-11-27T12:45:33.000Z" itemprop="datePublished">2015-11-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/27/12.2/">12.2</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="设计有setAll功能的哈希表"><a href="#设计有setAll功能的哈希表" class="headerlink" title="设计有setAll功能的哈希表"></a>设计有setAll功能的哈希表</h1><p>哈希表常见的三个操作是 put、get 和 containsKey,而且这三个操作的时间复杂度为 O(1)。<br>现在想加一个 setAll 功能,就是把所有记录的 value 都设成统一的值。<br>请设计并实现 这种有 setAll 功能的哈希表,并且 put、get、containsKey 和 setAll 四个操作的时间复杂度 都为 O(1)。</p>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p>setAll是把所有数据设置为同一个值,但是时间复杂度是 O(1)</p>
<ul>
<li><p>普通做法<br>遍历hashMap然后把值都修改成同一个值<br>这样的时间复杂度一定不是O(1)</p>
</li>
<li><p>O(1)做法<br>因此提出时间戳的概念，就是setAll变为单独一个部分，加上一个时间戳，普通数据也加上一个时间戳<br>取数据的时候要判断是从setAll取还是从普通数据取，这个取决于对应的时间戳</p>
</li>
</ul>
<p>在普通的hashMap中value就是一个普通的值，<br>而这里把普通数据value设置为一个带有时间戳的value，即一个新的数据结构，包含时间戳和value<br>每次对于添加value都要更新时间戳</p>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/niuke/">niuke</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/algorithm/">algorithm</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/11/27/12.2/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-11.3" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/27/11.3/" class="article-date">
  	<time datetime="2015-11-27T05:55:45.000Z" itemprop="datePublished">2015-11-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/27/11.3/">11.3</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="二叉树的序列化和反序列化"><a href="#二叉树的序列化和反序列化" class="headerlink" title="二叉树的序列化和反序列化"></a>二叉树的序列化和反序列化</h1><p>二叉树被记录成文件的过程，叫做二叉树的序列化，通过文件内容重建原来二叉树的过程叫做二叉树的反序列化。<br>给定一棵二叉树的头节点head，并已知二叉树节点值的类型为32位整型。<br>请设计一种二叉树序列化和反序列化的方案并用代码实现。</p>
<p>应用：判断两颗二叉树中是否有子树完全相同，先序列化为文件，然后kmp</p>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p>将每个树的节点的值放在字符串中，用一个分隔符分开来，不然会引起歧义，然后将空节点也用特殊符号代替<br>本题用<code>!</code>代表分隔符，用<code>#</code>表示空结点<br>思路就是先序遍历和层次遍历，注意处理过程稍有不同<br>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/niuke/">niuke</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/algorithm/">algorithm</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/11/27/11.3/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-12.1" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/26/12.1/" class="article-date">
  	<time datetime="2015-11-26T14:01:58.000Z" itemprop="datePublished">2015-11-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/26/12.1/">12.1</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="两个单链表相交的一系列问题"><a href="#两个单链表相交的一系列问题" class="headerlink" title="两个单链表相交的一系列问题"></a>两个单链表相交的一系列问题</h1><p>单链表可能有环,也可能无环。给定两个单链表的头节点 head1 和 head2, 这两个链表可能相交,也可能不相交。<br>请实现一个函数,如果两个链表相交,请返回相交 的第一个节点;如果不相交,返回 null 即可。<br>要求:如果链表1的长度为N，链表2的长度为M，时间复杂度请达到O(N+M)，额外空间复杂度请达到O(1)。</p>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p>本题目可以拆分为2大问题</p>
<ul>
<li>是否有环</li>
<li>是否相交</li>
</ul>
<p>然后又可以拆分为多个子问题</p>
<ul>
<li>判断单链表是否有环，如果有找出入环点</li>
<li>两个无环链表是否相交</li>
<li>两个有环链表是否相交</li>
<li>一个有环链表和一个无环链表是否相交</li>
</ul>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/niuke/">niuke</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/algorithm/">algorithm</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/11/26/12.1/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-11.2" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/26/11.2/" class="article-date">
  	<time datetime="2015-11-26T07:15:04.000Z" itemprop="datePublished">2015-11-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/26/11.2/">11.2</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="判断一个链表是否为回文结构"><a href="#判断一个链表是否为回文结构" class="headerlink" title="判断一个链表是否为回文结构"></a>判断一个链表是否为回文结构</h1><p>给定一个链表的头节点head，请判断该链表是不是回文结构。<br>例如：<br>1-&gt;2-&gt;1，返回true。<br>1-&gt;2-&gt;2-&gt;1，返回true。<br>15-&gt;6-&gt;15，返回true。<br>1-&gt;2-&gt;3，返回false。</p>
<h1 id="思路-amp-代码"><a href="#思路-amp-代码" class="headerlink" title="思路 &amp; 代码"></a>思路 &amp; 代码</h1><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//链表结构</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">Node</span> &#123;</div><div class="line">	<span class="keyword">public</span> <span class="keyword">int</span> <span class="keyword">value</span>;</div><div class="line">	<span class="keyword">public</span> Node next;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Node</span>(<span class="params"><span class="keyword">int</span> data</span>) </span>&#123;</div><div class="line">		<span class="keyword">this</span>.<span class="keyword">value</span> = data;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/niuke/">niuke</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/algorithm/">algorithm</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/11/26/11.2/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/6/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/8/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Du Yao
    	</div>
      	
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>